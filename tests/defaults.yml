applications:
  - espejote
  - openshift4-operators as openshift-operators-redhat

parameters:
  kapitan:
    dependencies:
      - type: https
        source: https://raw.githubusercontent.com/projectsyn/component-espejote/master/lib/espejote.libsonnet
        output_path: vendor/lib/espejote.libsonnet
      - type: https
        source: https://raw.githubusercontent.com/appuio/component-openshift4-operators/v1.0.2/lib/openshift4-operators.libsonnet
        output_path: vendor/lib/openshift4-operators.libsonnet

  espejote:
    namespace: syn-espejote

  openshift4_operators:
    defaultInstallPlanApproval: Automatic
    defaultSource: openshift-operators-redhat
    defaultSourceNamespace: openshift-operators-redhat

  openshift4_local_storage:
    local_volumes:
      storagevolumes:
        restricted_to:
          argocd.argoproj.io/instance:
            values:
              - rook-ceph
        storage_class_devices:
          localblock-storage:
            volumeMode: Block
            devicePaths:
              - /dev/vda5
        config:
          tolerations:
            - key: storagenode
              operator: Exists
          nodeSelector:
            nodeSelectorTerms:
              - matchExpressions:
                  - key: node-role.kubernetes.io/storage
                    operator: Exists
